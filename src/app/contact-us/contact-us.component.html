<mat-icon class="close-icon" mat-dialog-close>close</mat-icon>

<div class="contact">
    <h1 class="mb-0">
        <span>Contact </span>
        <span class="secondary-color">Us</span>
    </h1>

    <div class="contact-details">
        <ul class="mt-5">
            <li>
                <img src="./assets/imgs/contact/ph.jpeg" />
                <span>
                    <div *ngIf="isLoading" class="dot-loader"></div>
                    {{contactNumPh}}
                </span>
            </li>
            <li>
                <img src="./assets/imgs/contact/usa.jpeg" />
                <span>
                    <div *ngIf="isLoading" class="dot-loader"></div>
                    {{contactNumUs}}
                </span>
            </li>
            <li>
                <img src="./assets/imgs/contact/uk.jpeg" />
                <span>
                    <div *ngIf="isLoading" class="dot-loader"></div>
                    {{contactNumUk}}
                </span>
            </li>
        </ul>
    </div>

    <div class="w-100">
        <!-- <h2>Send us an email:</h2> -->

        <form [formGroup]="form" (submit)="sendEmail()">
            <mat-form-field
                appearance="outline" class="w-100 mt-10">
                <mat-label>Name</mat-label>
                <input
                formControlName="name"
                matInput type="text"
                autocomplete="off">
        
                <mat-error class="mp-0" *ngIf="form.get('name')?.errors?.['required']">
                    Name required
                </mat-error>
        
                <mat-error class="mp-0" *ngIf="form.get('name')?.errors?.['maxlength']">
                    Max character length 250
                </mat-error>
            </mat-form-field>

            <mat-form-field
                appearance="outline" class="w-100 mt-10">
                <mat-label>Email</mat-label>
                <input
                formControlName="email"
                matInput type="text"
                autocomplete="off">
        
                <mat-error class="mp-0" *ngIf="form.get('email')?.errors?.['required']">
                Email required
                </mat-error>
        
                <mat-error class="mp-0" *ngIf="form.get('email')?.errors?.['email'] || form.get('email')?.errors?.['pattern']">
                Please enter a valid email
                </mat-error>
        
                <mat-error class="mp-0" *ngIf="form.get('email')?.errors?.['maxlength']">
                    Max character length 250
                </mat-error>
            </mat-form-field>

            <mat-form-field
                appearance="outline" class="w-100 mt-10">
                <mat-label>Contact Number</mat-label>
                <input
                formControlName="contact_number"
                matInput type="text"
                autocomplete="off">
        
                <mat-error class="mp-0" *ngIf="form.get('contact_number')?.errors?.['required']">
                Contact Number required
                </mat-error>
        
                <mat-error class="mp-0" *ngIf="form.get('contact_number')?.errors?.['maxlength']">
                    Max character length 250
                </mat-error>
            </mat-form-field>

            <mat-form-field
                appearance="outline" class="w-100 mt-10">
                <mat-label>Company Name</mat-label>
                <input
                formControlName="company_name"
                matInput type="text"
                autocomplete="off">
        
                <mat-error class="mp-0" *ngIf="form.get('company_name')?.errors?.['required']">
                    Company Name required
                </mat-error>
        
                <mat-error class="mp-0" *ngIf="form.get('company_name')?.errors?.['maxlength']">
                    Max character length 250
                </mat-error>
            </mat-form-field>


            <mat-form-field
                appearance="outline" class="w-100 mt-10">
                <mat-label>Subject</mat-label>
                <input
                formControlName="subject"
                matInput type="text"
                autocomplete="off">
        
                <mat-error class="mp-0" *ngIf="form.get('subject')?.errors?.['required']">
                    Please enter subject
                </mat-error>
        
                <mat-error class="mp-0" *ngIf="form.get('subject')?.errors?.['maxlength']">
                    Max character length 250
                </mat-error>
            </mat-form-field>


            <mat-form-field
                appearance="outline" class="w-100 mt-10">
                <mat-label>Body</mat-label>
                <textarea
                formControlName="body"
                matInput type="text"
                autocomplete="off">
                </textarea>
        
                <mat-error class="mp-0" *ngIf="form.get('body')?.errors?.['required']">
                    Body required
                </mat-error>
        
                <mat-error class="mp-0" *ngIf="form.get('body')?.errors?.['maxlength']">
                    Max character length 2000
                </mat-error>
            </mat-form-field>

            <button *ngIf="!isSending" mat-flat-button color="accent" class="btn-gradient">
                Send
            </button>

            <button *ngIf="isSending" type="button" disabled mat-flat-button color="accent" class="btn-gradient disabled text-white">
                Sending <div class="dot-loader text-white"></div>
            </button>
        </form>
    </div>
</div>